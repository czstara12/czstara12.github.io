---
title: 在任何时候连上你的树莓派
date: 2024-03-14 14:01:08
categories:
tags:
---

一些个人思考

<!-- more -->

# 树莓派

## 场景

- 笔记本电脑
- usb - typec线
- 树莓派
- 内存卡和读卡器(或者u盘)

## 连接

首次连接非常方便,

只需要用官方的树莓派工具进行配置即可百分百连上热点/无线网.

那么我们的主要目标就是**重连**.

## 重连

当我们重连的时候树莓派已经设置好一个无线网配置.

但是该无线网可能**配置不正确/坏了/连上了别人的网络/死活找不到IP mDNS也不好用**反正就是你现在连不上树莓派了,你要怎么办?

一般正常人想到的方案是断电重启,但是**警告**断电重启有可能损坏你的系统,强制让你进入下面的条目一

1. 重刷系统-重刷官方系统有9成把握可以修复一切问题(除了硬件问题).但是你需要:
   - 重新搭建环境.
   - 好不容易做的代码丢失.
   - 消耗很长时间,尤其是内存卡的读写速度并不快,电脑读写cm4模块内置flash速度更加堪忧.
2. 网线-需要一根网线 还需要一些设置(电脑)
3. 让pi释放一个热点-但是没有提前设置就白搭(与树莓派连wifi冲突).而且电脑连上树莓派的热点后树莓派和电脑都没有网络,没法面向google/chatgpt编程(就算是安装一些软件包 也是要网的).
   - 或者我都要,多插一块usb无线网卡,既连wifi也发wifi,但是需要一块额外的usb无线网卡.
4. 屏幕键鼠-需要屏幕键鼠.最豪的选择,也是最高效的选择,树莓派出了什么问题第一时间就能看到.
5. 串口命令行-需要提前设置,需要一个串口转USB模块,且应用中不能使用串口1,而且只有命令行(高手限定).
6. USB RNDIS-需要提前设置,但是影响最小,用的是基本上不会使用的usb-c接口,只需要一根usb线.
    
    **注意**:电脑usb并不能提供树莓派所需的15w电源
    
    解决方案:有些usbhub可以提供高达3A的电源,或者你的设备上有旁路供电/USP什么的.
    
    不解决的话如果设置了什么高负载自启任务,树莓派有可能开机就卡死,你同样没办法进去修改配置.
    
    如果解决掉前面的问题,那么这个就是最经济的选择,直接插上就能用,再配上"5.串口命令行"看启动输出,基本上解决大部分问题.

## 热点

其次是热点或者固定网络

- 手机热点
- 电脑热点 (Windows没有网络还开不了 什么制杖设计 而且他那个网络检测很慢 浪费时间)
- 固定网络 (都固定了 外出怎么办?)

## 附 我实际使用中遇到的部分问题

1. 断电重启后 树莓派镜像损坏 无法启动
2. 树莓派运行一段时间后一些工作正常 但就是没法通过ip或者mdns连接上去 连接屏幕操作发现一切正常 重启无线网后恢复连接恢复正常
3. 无线网卡莫名其妙损坏(猜测可能是进水了)
4. 小心无线网天线附近的两个电容 很容易扣掉 应该是天线的一部分 可能会影响信号 切勿手欠
5. 切记不要向树莓派提供高于5.25v的电源 尤其是5v电源接口 有可能会直接将你的pi电源烧坏 谨慎使用你旁路供电的电源 先测量 后使用
6. 树莓派4有usb启动和USB3 搭配移动固态硬盘使用更佳 对比闪存卡有高速度 高寿命的优点